<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Basic Pentesting</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a href="index.html" class="title">Basic Pentesting</a>
			</header>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<section id="main" class="wrapper">
						<div class="inner">
							<h1 class="major">Basic Pentesting</h1>
							<span class="image fit"><img src="images/pic13.jpg" alt="" /></span>
							<p>The first thing I did when signing up for TryHackMe was work out how the attack box worked and given that it only allowed one hours use every twenty-four hours it wasn’t viable for my use. I then investigated connecting using OpenVPN, I had never set up a VM on my laptop before which runs Windows Home Edition and not the pro edition I was used to with my desktop. This means I had to research how to enable the windows native Hyper-V manager using a few simple commands in command prompt. With this done I was able to start a VM with a bare metal .iso file and install Kali Linux for my first time. Then I followed the instructions to connect to the TryHackMe network and proceeded to the Basic Pentesting room.</p>
							<p>Upon entering the room and opening task one I was immediately informed of what the tasks in this room would teach me the basics of. These were brute forcing, hash cracking, service enumeration and Linux enumeration.</p>
							<p>This room focused on using a terminal to execute command lines, that was great as I had only really used command terminals inside Visual Studio Code to install programs and to set workspaces with various tools imported from github repositories.</p>
							<p>On to the task at hand, using the hints and video recording from UWE I opened a terminal and used nmap (Network Mapper) on the machine IP provided using the command “nmap 10.10.**.**” and it returns results with the port and traffic type with its state and service. Port 22 is of interest as is leads to a SSH (Secure Shell Protocol) a way of remotely connecting as a client to a server. Using the command “man nmap” I discovered many options. While using the command “nmap -O 10.10.**.**” returned no match if I used the command “nmap -O 10.10.**.** 22” it returned that port 22 was running a Linux 3.13 operating system. I then went on to use DIRB a web content scanner to look for existing and/or hidden web objects. With the command “dirb 10.10.**.**” I found a directory that was listable with the extension /development/. When visiting “10.10.**.**/development” on a web browser there are two .txt files containing information that points to a user with the initial J has a weak password. The hint on how to find the username mentions a SMB, after researching what one was, I discovered it allows for file sharing and network browsing that relies on TCP and IP protocols for transport. This wasn’t much help but thankfully I was guided to enum4linux in the lecture and had already discovered a Linux OS. So using the command enum4linux “10.10.**.**” I was able to find two users with the usernames kay and jan, based on the recon on the /development directory it is fair to say that jan is the user with the weak password.</p>
							<p>For the password the next hint to use hydra for brute forcing was and by using the man hydra command I was able to find out the necessary commands to brute force the password. That combined with the wordlist rockyou.txt that was mentioned in the lecture that contains over fourteen million passwords, I was able to enter the command “hydra -l jan -P /root/Desktop/Tools/wordlists/rockyou.txt 10.10.**.** ssh” which returns a password of armando for the user jan. Great, now I can login to the ssh port using jan’s credentials. Using the command “ssh jan@10.10.**.**” I get prompted for a password and using the armando password found earlier I have gained access to jan’s account. Two commands I had to learn during this exercise were “ls” and “cd”, using the “ls” command to check the contents of the current directory I can see it is empty. So using the “cd ..” command to reach jan’s /home directory and use the “ls” command again and there are two directories, one named jan and one named kay. Using the “cd kay” command to navigate into that directory then use the “ls” command to find a file called pass.bak. When trying the “cat pass.bak” command to reveal the contents I find out jan doesn’t have permission to access that file. I need to find an alternative so thanks again to the UWE lecture I learn about the “ls -la” command which not only lists hidden files and directories but also the user privileges associated with that file or directory. I can now see a lot more files and directories including one called .ssh which as jan I can view. After viewing the three files with the “cat” command I can see that the files authorized_keys and id_rsa.pub are identical and that id_rsa contains an encrypted RSA PRIVATE KEY.</p>
							<p>From the hint and the lecture, I need to use John The Ripper for decrypting the RSA hash. Firstly, I needed to create a copy of the private key to be targeted by JTR, the easiest way for me to so this is by using the “nano” command from a new terminal so that it saves to my machine. Copied the private key and saved to my machine’s desktop named key_file. After a little bit of research and listening to the lecture I need to use ssh2john.py included in Kali Linux. Using the command “/root/Tools/'Password Attacks'/john/ssh2john.py key_file > hash” I can format it into a file that JTR will recognize using the funnel “>” character. The “cat hash” command confirms the file has been formatted correctly. Now all I need to do is run the command “john hash” to crack the encryption, the returned results give the password “beeswax”. Using the command “ssh -i id_rsa kay@10.10.**.** “ where I am prompted for the passphrase for the id_rsa file which is beeswax. From here I use the “ls” command which shows the pass.bak file. Now I am logged in a kay I can use the command “cat pass.bak” to view the password “heresareallystrongpasswordthatfollowsthepasswordpolicy$$” and completing this room.</p>
						</div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Darren Jackson. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>